<mat-card>
  <mat-card-title>Search for Flights</mat-card-title>
  <mat-card-content>

    <mat-form-field>
      <input
        matInput
        name="from"
        placeholder="from"
        [(ngModel)]="from">
    </mat-form-field>
    <br>

    <mat-form-field>
      <input
        matInput
        name="to"
        placeholder="to"
        [(ngModel)]="to">
    </mat-form-field>

  </mat-card-content>
  <mat-card-actions>

    <button
      mat-raised-button
      color="primary"
      [disabled]="!from || !to"
      (click)="search()">
      Search</button>
  </mat-card-actions>
</mat-card>

<mat-card
  *ngIf="flights.length > 0">

  <table class="table table-contensed">
    <thead>
      <tr>
        <th>ID</th>
        <th>from</th>
        <th>to</th>
        <th>date</th>
        <th></th>
      </tr>
    </thead>
    <tr
      *ngFor="let flight of flights"
      [class.active]="flight === selectedFlight">
      <td>{{ flight.id }}</td>
      <td>{{ flight.from | city }}</td>
      <td>{{ flight.to | asyncCity | async }}</td>
      <td>{{ flight.date | date:'dd.MM.yyyy HH:mm' }}</td>
      <td>
        <a
          (click)="select(flight)">Select</a>
      </td>
    </tr>
  </table>

</mat-card>

<mat-card
  *ngIf="selectedFlight">
  <mat-card-title>Selected Flight</mat-card-title>
  <mat-card-content>
    <pre>{{
      selectedFlight | json
    }}</pre>
  </mat-card-content>
</mat-card>